<section class="reset">
  <div class="reset__card">
    <header class="reset__header">
      <h1>Réinitialiser le mot de passe</h1>
      <p>Saisissez votre adresse e-mail pour recevoir un lien de réinitialisation.</p>
    </header>

    <form class="reset__form" [formGroup]="resetForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="reset__field">
        <label for="email">Adresse e-mail</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          autocomplete="email"
          required
          [attr.aria-invalid]="emailControl.invalid && emailControl.touched"
        />
        <span class="reset__error" *ngIf="emailControl.touched && emailControl.invalid">
          Adresse e-mail invalide.
        </span>
      </div>

      <button class="reset__submit" type="submit" [disabled]="resetForm.invalid || isSubmitting()">
        <ng-container *ngIf="!isSubmitting(); else loading">Envoyer le lien</ng-container>
        <ng-template #loading>Envoi en cours…</ng-template>
      </button>
    </form>

    <p class="reset__feedback" *ngIf="lastSubmittedEmail() as email">
      Un e-mail de réinitialisation a été envoyé à <strong>{{ email }}</strong>. Vérifiez votre boîte de
      réception et suivez les instructions reçues.
    </p>

    <a class="reset__back" routerLink="/auth/login">Retour à la connexion</a>
  </div>
</section>
